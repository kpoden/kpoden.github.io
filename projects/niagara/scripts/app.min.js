$(document).ready(function(){window.onbeforeunload=function(){window.scrollTo(0,0)},setTimeout(function(){window.scrollTo(0,0),document.body.scrollTop=0,gsap.to(window,{duration:1,scrollTo:{y:"body"}})},1)});class Products{constructor(e,t){this.productsData=document.getElementById(e),this.modal=document.getElementById(t),this.bg=document.querySelector(".product-modal__header"),this.productImage=document.querySelector(".prod-display__img img"),this.chooseVol=document.querySelector(".prod-switch"),this.chooseVolIcon=document.querySelector(".prod-switch"),this.chooseVolSwitch=document.querySelector(".prod-switch__switch"),this.chooseVolIcon.setAttribute("data-curr-vol","1"),this.currentVol="0",this.currentFlavor="taezhniydar",this.subtitleText=document.querySelector(".pm-header__title-sub"),this.logoImage=document.querySelector(".pm-header__title-main img"),this.init()}getProductInfo(e){this.productName=e,this.products=JSON.parse(this.productsData.innerHTML).products;for(let e=0;e<this.products.length;e++){var t=this.products[e];t.name===this.productName&&(this.product=t)}}initMainWindow(){console.log(this.product),console.log(this.logoImage.src),this.subtitleText.innerHTML=this.product.subtitle,this.logoImage.src=this.product.logo}getFlavors(e){}getVolume(){this.chooseVolIcon.addEventListener("click",()=>{this.chooseVolIcon.classList.contains("vol-quant-3")&&(this.chooseVolSwitch.classList.contains("switched")?(this.chooseVolSwitch.classList.remove("switched"),this.chooseVolSwitch.classList.add("swithed2"),this.chooseVolIcon.setAttribute("data-curr-vol","2"),this.currentVol="2"):this.chooseVolSwitch.classList.contains("swithed2")?(this.chooseVolSwitch.classList.remove("switched"),this.chooseVolSwitch.classList.remove("switched2"),this.chooseVolIcon.setAttribute("data-curr-vol","0"),this.currentVol="0"):(this.chooseVolSwitch.classList.add("switched"),this.chooseVolIcon.setAttribute("data-curr-vol","1"),this.currentVol="1")),this.chooseVolIcon.classList.contains("vol-quant-2")&&(this.chooseVolSwitch.classList.contains("switched")?(this.chooseVolIcon.setAttribute("data-curr-vol","1"),this.chooseVolSwitch.classList.remove("switched"),this.currentVol="0"):(this.chooseVolIcon.setAttribute("data-curr-vol","2"),this.chooseVolSwitch.classList.add("switched"),this.currentVol="1")),this.activeFlavour=document.querySelector(".flavours--active").getAttribute("data-name"),this.product.volumes[this.currentVol].flavors.forEach(e=>{e.name==this.activeFlavour&&(this.bg.style.background=e.bgcolor,this.productImage.src=e.image)})})}changeWindow(e){this.getProductInfo(e),this.initMainWindow(),this.flavours=document.querySelectorAll(".flavours__item"),this.activeFlavour=this.flavours[0].getAttribute("data-name"),this.flavours.forEach(e=>{e.addEventListener("click",e=>{this.activeFlavour=e.target.closest(".flavours__item").getAttribute("data-name"),this.product.volumes[this.currentVol].flavors.forEach(e=>{e.name==this.activeFlavour&&(this.bg.style.background=e.bgcolor,this.productImage.src=e.image)})})})}init(){this.getVolume(),this.changeWindow(this.currentFlavor)}}const products=new Products("products","modal-prod");function productTextAppear(){var e=document.querySelector(".pm-star__wrap");const t=document.querySelector(".pm-star__text");e.addEventListener("click",function(e){t.classList.toggle("pm-text--showed")})}function scrollFix(){document.addEventListener("DOMContentLoaded",function(e){var t=".header,.mission,.history,.work,.news";window.addEventListener("load",function(){var e=document.querySelectorAll(t),s=window.innerHeight;e.forEach(function(e){var t=e.offsetHeight,o=s-t;e.classList.contains("history")&&(o=s/2-t),e.style.top=o<0?o+"px":"0"})}),window.addEventListener("resize",function(){var e=document.querySelectorAll(t),s=window.innerHeight;e.forEach(function(e){var t=e.offsetHeight,o=s-t;e.classList.contains("history")&&(o=s/2-t),e.style.top=o<0?o+"px":"0"})})})}function smoothScroll(){const o=document.querySelectorAll(".n-block");window.addEventListener("scroll",()=>{for(let e=0;e<o.length;e++){var t=o[e].getBoundingClientRect();0<=t.top&&(t=t.top-window.innerHeight+t.height,window.scrollTo({top:t,behavior:"smooth"}))}})}function isElementInViewport(e){e=e.getBoundingClientRect();return 0<e.bottom&&0<e.right&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.top<(window.innerHeight||document.documentElement.clientHeight)}function onePunch(){var e=document.querySelector(".mission"),t=document.querySelector(".product"),o=document.querySelector(".geography"),s=document.querySelector(".news"),c=document.querySelector(".work"),i=document.querySelector(".history"),n=document.querySelector(".footer");(sections=[]).push(e),sections.push(c),(sections_half=[]).push(s),sections_half.push(t),sections_half.push(o),sections_half.push(i),sections_half.push(n),sections_half.forEach(function(t){window.addEventListener("scroll",()=>{var e;t.getBoundingClientRect().top<(window.innerHeight||document.documentElement.clientHeight)/1.1?(e=document.documentElement.scrollTop+window.innerHeight/1.1,t.classList.contains("scrolled")||(gsap.to(window,{duration:1,scrollTo:e}),t.classList.add("scrolled"))):t.classList.remove("scrolled")})}),sections.forEach(function(t){window.addEventListener("scroll",()=>{var e;t.getBoundingClientRect();isElementInViewport(t)?(console.log("section is in viewport"),e=document.documentElement.scrollTop+window.innerHeight,t.classList.contains("scrolled")||(gsap.to(window,{duration:1,scrollTo:e}),t.classList.add("scrolled"))):t.classList.remove("scrolled")})})}function scrollUpAppear(){window.addEventListener("scroll",function(){var e=document.getElementById("scroll-up");500<window.scrollY?e.classList.add("scroll-up__appear"):e.classList.remove("scroll-up__appear")})}function orderDisappear(){const e=document.querySelector(".order");window.addEventListener("scroll",()=>{e.getBoundingClientRect().top<100?e.classList.add("unvisOrder"):e.classList.remove("unvisOrder")})}function parallex(){135<window.pageYOffset-$(".header").height()?$(".header").css({opacity:0}):$(".header").css({opacity:1})}function scrollBlocks(){const t=document.querySelector(".year__num");var o=document.querySelectorAll(".events__item");const s=window.innerHeight||document.documentElement.clientHeight;for(let e=0;e<o.length;e++){const c=o[e];c.classList.add("hiddenBlock"),document.addEventListener("scroll",()=>{c.getBoundingClientRect().top-100<s/2+150?(c.classList.remove("hiddenBlock"),c.classList.add("visibleBlock")):(c.classList.add("hiddenBlock"),c.classList.remove("visibleBlock"));var e=document.querySelectorAll(".visibleBlock");0<e.length&&(e=parseFloat(e[e.length-1].dataset.year),parseFloat(t.innerText),t.innerText=e)})}}function onEntry(e){e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("element-show"),counters())})}productTextAppear(),scrollFix(),onePunch(),scrollUpAppear(),orderDisappear(),window.addEventListener("scroll",parallex),scrollBlocks();let options={threshold:[.1]},observer=new IntersectionObserver(onEntry,options),elements=document.querySelectorAll(".element-animation");for(let e of elements)observer.observe(e);function counters(){const o=document.querySelectorAll(".counter");jQuery(function(e){"use strict";var t=window.counterUp.default;o.forEach(e=>{t(e,{duration:1e3,delay:5})})})}function pecsChange(){var e=parseInt(localStorage.getItem("visitCount"))||0,t=(e++,localStorage.setItem("visitCount",e),e%8),o=document.querySelectorAll(".header-top__bg");for(let e=0;e<o.length;e++)o[e].classList.add("hidden"),e==t&&o[e].classList.remove("hidden")}function videoAppear(){const e=document.querySelector(".header-top__bg-vid"),t=document.querySelector(".pecs");setTimeout(function(){t.classList.add("pecs_disappear"),e.play()},4e3)}function lang(){const e=document.querySelector(".n-lang");e.addEventListener("click",()=>{e.classList.toggle("en")})}function prodMenu(){const o=document.querySelectorAll(".products-menu__item"),s=document.querySelectorAll(".products-list__item");o.forEach(e=>{e.addEventListener("click",e=>{let t=(e=e.target).getAttribute("data-menu");o.forEach(e=>e.classList.remove("products-menu__item--active")),e.classList.add("products-menu__item--active"),s.forEach(e=>{e.classList.add("hidden"),e.getAttribute("data-type")===t&&e.classList.remove("hidden")})})})}function worksCat(){const o=document.querySelectorAll(".work-form__cat"),s=document.querySelectorAll(".work-form__list");o.forEach(e=>{e.addEventListener("click",e=>{o.forEach(e=>e.classList.remove("work-form__cat--active")),(e=e.target).classList.add("work-form__cat--active");const t=e.getAttribute("data-work-cat");s.forEach(e=>{e.classList.add("hidden"),e.getAttribute("data-work-list")==t&&e.classList.remove("hidden")})})})}function newsSpoiler(){const e=document.querySelectorAll(".news-item"),t=document.querySelector(".news__spoiler");t.addEventListener("click",()=>{t.classList.contains("expanded")?e.forEach(e=>{e.classList.contains("show")&&(e.classList.remove("show"),e.classList.add("hidden"),t.classList.remove("expanded"),t.innerText="Смотреть еще")}):e.forEach(e=>{e.classList.contains("hidden")&&(e.classList.remove("hidden"),e.classList.add("show"),t.classList.add("expanded"),t.innerText="Скрыть")})})}pecsChange(),lang(),prodMenu(),worksCat(),newsSpoiler();let navLinks=document.querySelectorAll(".n-menu__item");navLinks.forEach(e=>e.addEventListener("click",e=>{e.preventDefault()})),document.getElementById("menu-production").addEventListener("click",()=>{gsap.to(window,{duration:1,scrollTo:{y:".product"}})}),document.getElementById("menu-about").addEventListener("click",()=>{gsap.to(window,{duration:.5,scrollTo:{y:".mission"}})}),document.getElementById("menu-work").addEventListener("click",()=>{gsap.to(window,{duration:1,scrollTo:{y:".work"}})}),document.getElementById("menu-contacts").addEventListener("click",()=>{gsap.to(window,{duration:1,scrollTo:{y:".footer"}})}),document.getElementById("scroll-up").addEventListener("click",()=>{gsap.to(window,{duration:1,scrollTo:{y:"body"}})}),gsap.from(".order",{scrollTrigger:".order",y:"50px",opacity:0}),gsap.to(".order",{scrollTrigger:".order",y:"0",opacity:"1"});class Modal{constructor(e,t){this.modal=document.getElementById(e),this.closeButton=this.modal.querySelector(".modal__close"),this.modalTrigger=document.querySelectorAll(t),this.overlay=document.querySelector(".overlay-dark"),this.isOpen=!1,this.closeButton.addEventListener("click",()=>this.close()),this.overlay.addEventListener("click",()=>this.close()),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.isOpen&&this.close()})}open(){this.modal.classList.add("opened-modal"),this.overlay.classList.add("overlay--shown"),this.isOpen=!0}close(){this.modal.classList.remove("opened-modal"),this.overlay.classList.remove("overlay--shown"),this.isOpen=!1}init(){this.modalTrigger.forEach(e=>e.addEventListener("click",()=>{this.open()}))}}const modalNews=new Modal("modal-news",".modal-trigger"),modalProd=(modalNews.init(),new Modal("modal-prod",".modal-trigger-prod"));modalProd.init();class Product{constructor(e){this.chooseFlav=document.querySelectorAll(".flavours__item")}chooseFlavor(){this.chooseFlav.forEach(e=>e.addEventListener("click",()=>{this.chooseFlav.forEach(e=>e.classList.remove("flavours--active")),e.classList.add("flavours--active")}))}}const td=new Product("td");td.chooseFlavor();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXMiOlsibWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy5zY3JvbGxUbygwLDApO1xyXG59O1xyXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7XHJcbiAgICAgIGdzYXAudG8od2luZG93LCB7XHJcbiAgICAgICAgZHVyYXRpb246IDEsXHJcbiAgICAgICAgc2Nyb2xsVG86IHtcclxuICAgICAgICAgICAgeTogXCJib2R5XCJcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gIH0sIDEpO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbmNsYXNzIFByb2R1Y3RzIHtcclxuICBjb25zdHJ1Y3Rvcihwcm9kdWN0cywgbW9kYWwpIHtcclxuICAgIHRoaXMucHJvZHVjdHNEYXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJvZHVjdHMpO1xyXG4gICAgdGhpcy5tb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsKTtcclxuICAgIHRoaXMuYmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1tb2RhbF9faGVhZGVyJyk7XHJcbiAgICB0aGlzLnByb2R1Y3RJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kLWRpc3BsYXlfX2ltZyBpbWcnKTtcclxuICAgIHRoaXMuY2hvb3NlVm9sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Qtc3dpdGNoJyk7XHJcbiAgICB0aGlzLmNob29zZVZvbEljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZC1zd2l0Y2gnKTtcclxuICAgIHRoaXMuY2hvb3NlVm9sU3dpdGNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2Qtc3dpdGNoX19zd2l0Y2gnKTtcclxuICAgIHRoaXMuY2hvb3NlVm9sSWNvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3Vyci12b2wnLCcxJyk7XHJcbiAgICB0aGlzLmN1cnJlbnRWb2wgPSAnMCc7XHJcbiAgICB0aGlzLmN1cnJlbnRGbGF2b3IgPSAndGFlemhuaXlkYXInO1xyXG5cclxuICAgIHRoaXMuc3VidGl0bGVUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBtLWhlYWRlcl9fdGl0bGUtc3ViJyk7XHJcbiAgICB0aGlzLmxvZ29JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbS1oZWFkZXJfX3RpdGxlLW1haW4gaW1nJyk7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIGdldFByb2R1Y3RJbmZvKHByb2R1Y3ROYW1lKSB7XHJcbiAgICB0aGlzLnByb2R1Y3ROYW1lID0gcHJvZHVjdE5hbWU7XHJcbiAgICB0aGlzLnByb2R1Y3RzID0gSlNPTi5wYXJzZSh0aGlzLnByb2R1Y3RzRGF0YS5pbm5lckhUTUwpLnByb2R1Y3RzO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSB0aGlzLnByb2R1Y3RzW2ldO1xyXG4gICAgICBpZiAocHJvZHVjdC5uYW1lID09PSB0aGlzLnByb2R1Y3ROYW1lKSB7XHJcbiAgICAgICAgdGhpcy5wcm9kdWN0ID0gcHJvZHVjdDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBpbml0TWFpbldpbmRvdygpIHtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMucHJvZHVjdCk7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLmxvZ29JbWFnZS5zcmMpO1xyXG4gICAgdGhpcy5zdWJ0aXRsZVRleHQuaW5uZXJIVE1MID0gdGhpcy5wcm9kdWN0LnN1YnRpdGxlO1xyXG4gICAgdGhpcy5sb2dvSW1hZ2Uuc3JjID0gdGhpcy5wcm9kdWN0LmxvZ287XHJcbiAgfVxyXG5cclxuICBnZXRGbGF2b3JzKHByb2R1Y3QpIHtcclxuICAgIFxyXG5cclxuXHJcbiAgfVxyXG5cclxuICBnZXRWb2x1bWUoKSB7XHJcbiAgICB0aGlzLmNob29zZVZvbEljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblxyXG4gICAgICBpZih0aGlzLmNob29zZVZvbEljb24uY2xhc3NMaXN0LmNvbnRhaW5zKCd2b2wtcXVhbnQtMycpKSB7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGlmKHRoaXMuY2hvb3NlVm9sU3dpdGNoLmNsYXNzTGlzdC5jb250YWlucygnc3dpdGNoZWQnKSkge1xyXG4gICAgICAgICAgdGhpcy5jaG9vc2VWb2xTd2l0Y2guY2xhc3NMaXN0LnJlbW92ZSgnc3dpdGNoZWQnKTtcclxuICAgICAgICAgIHRoaXMuY2hvb3NlVm9sU3dpdGNoLmNsYXNzTGlzdC5hZGQoJ3N3aXRoZWQyJyk7XHJcbiAgICAgICAgICB0aGlzLmNob29zZVZvbEljb24uc2V0QXR0cmlidXRlKCdkYXRhLWN1cnItdm9sJywnMicpO1xyXG4gICAgICAgICAgdGhpcy5jdXJyZW50Vm9sID0gJzInO1xyXG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmNob29zZVZvbFN3aXRjaC5jbGFzc0xpc3QuY29udGFpbnMoJ3N3aXRoZWQyJykpIHtcclxuICAgICAgICAgIHRoaXMuY2hvb3NlVm9sU3dpdGNoLmNsYXNzTGlzdC5yZW1vdmUoJ3N3aXRjaGVkJyk7XHJcbiAgICAgICAgICB0aGlzLmNob29zZVZvbFN3aXRjaC5jbGFzc0xpc3QucmVtb3ZlKCdzd2l0Y2hlZDInKTtcclxuICAgICAgICAgIHRoaXMuY2hvb3NlVm9sSWNvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3Vyci12b2wnLCcwJyk7XHJcbiAgICAgICAgICB0aGlzLmN1cnJlbnRWb2wgPSAnMCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuY2hvb3NlVm9sU3dpdGNoLmNsYXNzTGlzdC5hZGQoJ3N3aXRjaGVkJyk7XHJcbiAgICAgICAgICB0aGlzLmNob29zZVZvbEljb24uc2V0QXR0cmlidXRlKCdkYXRhLWN1cnItdm9sJywnMScpO1xyXG4gICAgICAgICAgdGhpcy5jdXJyZW50Vm9sID0gJzEnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmKHRoaXMuY2hvb3NlVm9sSWNvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3ZvbC1xdWFudC0yJykpIHtcclxuICAgICAgICBpZih0aGlzLmNob29zZVZvbFN3aXRjaC5jbGFzc0xpc3QuY29udGFpbnMoJ3N3aXRjaGVkJykpIHtcclxuICAgICAgICAgIHRoaXMuY2hvb3NlVm9sSWNvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3Vyci12b2wnLCcxJyk7XHJcbiAgICAgICAgICB0aGlzLmNob29zZVZvbFN3aXRjaC5jbGFzc0xpc3QucmVtb3ZlKCdzd2l0Y2hlZCcpO1xyXG4gICAgICAgICAgdGhpcy5jdXJyZW50Vm9sID0gJzAnO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuY2hvb3NlVm9sSWNvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3Vyci12b2wnLCcyJyk7XHJcbiAgICAgICAgICB0aGlzLmNob29zZVZvbFN3aXRjaC5jbGFzc0xpc3QuYWRkKCdzd2l0Y2hlZCcpO1xyXG4gICAgICAgICAgdGhpcy5jdXJyZW50Vm9sID0gJzEnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFxyXG4gICAgICAgIHRoaXMuYWN0aXZlRmxhdm91ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbGF2b3Vycy0tYWN0aXZlJykuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnByb2R1Y3Qudm9sdW1lc1t0aGlzLmN1cnJlbnRWb2xdLmZsYXZvcnMuZm9yRWFjaCgoZmxhdm9yKSA9PiB7XHJcbiAgICAgICAgaWYoZmxhdm9yLm5hbWUgPT0gdGhpcy5hY3RpdmVGbGF2b3VyKSB7XHJcbiAgICAgICAgICB0aGlzLmJnLnN0eWxlLmJhY2tncm91bmQgPSBmbGF2b3IuYmdjb2xvcjtcclxuICAgICAgICAgIHRoaXMucHJvZHVjdEltYWdlLnNyYyA9IGZsYXZvci5pbWFnZTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcblxyXG4gICAgIFxyXG4gICAgfSlcclxuICB9XHJcblxyXG5cclxuXHJcblxyXG4gIGNoYW5nZVdpbmRvdyhpZCkge1xyXG4gICAgdGhpcy5nZXRQcm9kdWN0SW5mbyhpZCk7XHJcbiAgICB0aGlzLmluaXRNYWluV2luZG93KCk7XHJcbiAgICB0aGlzLmZsYXZvdXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZsYXZvdXJzX19pdGVtJyk7XHJcbiAgICB0aGlzLmFjdGl2ZUZsYXZvdXIgPSB0aGlzLmZsYXZvdXJzWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJyk7XHJcblxyXG4gICAgdGhpcy5mbGF2b3Vycy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PntcclxuICAgICAgICB0aGlzLmFjdGl2ZUZsYXZvdXIgPSBlLnRhcmdldC5jbG9zZXN0KCcuZmxhdm91cnNfX2l0ZW0nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucHJvZHVjdC52b2x1bWVzW3RoaXMuY3VycmVudFZvbF0uZmxhdm9ycy5mb3JFYWNoKChmbGF2b3IpID0+IHtcclxuICAgICAgICBpZihmbGF2b3IubmFtZSA9PSB0aGlzLmFjdGl2ZUZsYXZvdXIpIHtcclxuICAgICAgICAgIHRoaXMuYmcuc3R5bGUuYmFja2dyb3VuZCA9IGZsYXZvci5iZ2NvbG9yO1xyXG4gICAgICAgICAgdGhpcy5wcm9kdWN0SW1hZ2Uuc3JjID0gZmxhdm9yLmltYWdlO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG5cclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLmdldFZvbHVtZSgpO1xyXG4gICAgdGhpcy5jaGFuZ2VXaW5kb3codGhpcy5jdXJyZW50Rmxhdm9yKTtcclxuICB9XHJcblxyXG5cclxufVxyXG5cclxuY29uc3QgcHJvZHVjdHMgPSBuZXcgUHJvZHVjdHMoXCJwcm9kdWN0c1wiLCBcIm1vZGFsLXByb2RcIik7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gcHJvZHVjdFRleHRBcHBlYXIoKSB7XHJcbiAgY29uc3QgcG1TdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbS1zdGFyX193cmFwXCIpO1xyXG4gIGNvbnN0IHBtVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG0tc3Rhcl9fdGV4dFwiKTtcclxuXHJcbiAgcG1TdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICBwbVRleHQuY2xhc3NMaXN0LnRvZ2dsZShcInBtLXRleHQtLXNob3dlZFwiKTtcclxuXHJcbiAgfSlcclxufVxyXG5cclxucHJvZHVjdFRleHRBcHBlYXIoKVxyXG5cclxuZnVuY3Rpb24gc2Nyb2xsRml4KCkge1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgdmFyIGlkID0gJy5oZWFkZXIsLm1pc3Npb24sLmhpc3RvcnksLndvcmssLm5ld3MnO1xyXG5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChpZCk7XHJcbiAgICB2YXIgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICB2YXIgZWxlbWVudEhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICB2YXIgdG9wUG9zaXRpb24gPSB3aW5kb3dIZWlnaHQgLSBlbGVtZW50SGVpZ2h0O1xyXG5cclxuICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaXN0b3J5JykpIHtcclxuICAgICAgICB0b3BQb3NpdGlvbiA9ICh3aW5kb3dIZWlnaHQgLyAyKSAtIGVsZW1lbnRIZWlnaHQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0b3BQb3NpdGlvbiA8IDApIHtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHRvcFBvc2l0aW9uICsgJ3B4JztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9ICcwJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaWQpO1xyXG4gICAgdmFyIHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgdmFyIGVsZW1lbnRIZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcclxuICAgICAgdmFyIHRvcFBvc2l0aW9uID0gd2luZG93SGVpZ2h0IC0gZWxlbWVudEhlaWdodDtcclxuXHJcbiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnaGlzdG9yeScpKSB7XHJcbiAgICAgICAgdG9wUG9zaXRpb24gPSAod2luZG93SGVpZ2h0IC8gMikgLSBlbGVtZW50SGVpZ2h0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodG9wUG9zaXRpb24gPCAwKSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSB0b3BQb3NpdGlvbiArICdweCc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSAnMCc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxufSk7XHJcblxyXG59XHJcblxyXG5zY3JvbGxGaXgoKVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNtb290aFNjcm9sbCgpIHtcclxuXHJcbmNvbnN0IG5CbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubi1ibG9jaycpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5CbG9ja3MubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgIGNvbnN0IHJlY3QgPSBuQmxvY2tzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuXHJcbiAgICAgIGlmIChyZWN0LnRvcCA+PSAwKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHNjcm9sbFBvcyA9IHJlY3QudG9wIC0gd2luZG93LmlubmVySGVpZ2h0ICsgcmVjdC5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XHJcbiAgICAgICAgICB0b3A6IHNjcm9sbFBvcyxcclxuICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIHNtb290aFNjcm9sbCgpXHJcblxyXG5cclxuZnVuY3Rpb24gaXNFbGVtZW50SW5WaWV3cG9ydChlbCkge1xyXG4gIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIHJldHVybiByZWN0LmJvdHRvbSA+IDAgJiZcclxuICAgICAgcmVjdC5yaWdodCA+IDAgJiZcclxuICAgICAgcmVjdC5sZWZ0IDwgKHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkgLyogb3IgJCh3aW5kb3cpLndpZHRoKCkgKi8gJiZcclxuICAgICAgcmVjdC50b3AgPCAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpIC8qIG9yICQod2luZG93KS5oZWlnaHQoKSAqLztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIG9uZVB1bmNoKCkge1xyXG4gIGNvbnN0IHNlY3Rpb25NaXNzaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1pc3Npb24nKTtcclxuICBjb25zdCBzZWN0aW9uUHJvZHVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0Jyk7XHJcbiAgY29uc3Qgc2VjdGlvbkdlb2dyYXBoeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nZW9ncmFwaHknKTtcclxuICBjb25zdCBzZWN0aW9uTmV3cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzJyk7XHJcbiAgY29uc3Qgc2VjdGlvbldvcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud29yaycpO1xyXG4gIGNvbnN0IHNlY3Rpb25IaXN0b3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpc3RvcnknKTtcclxuICBjb25zdCBzZWN0aW9uRm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3RlcicpO1xyXG5cclxuICBzZWN0aW9ucyA9IFtdO1xyXG4gIHNlY3Rpb25zLnB1c2goc2VjdGlvbk1pc3Npb24pO1xyXG4gIHNlY3Rpb25zLnB1c2goc2VjdGlvbldvcmspO1xyXG5cclxuICBzZWN0aW9uc19oYWxmID0gW107XHJcbiAgc2VjdGlvbnNfaGFsZi5wdXNoKHNlY3Rpb25OZXdzKTtcclxuICBzZWN0aW9uc19oYWxmLnB1c2goc2VjdGlvblByb2R1Y3QpO1xyXG4gIHNlY3Rpb25zX2hhbGYucHVzaChzZWN0aW9uR2VvZ3JhcGh5KTtcclxuICBzZWN0aW9uc19oYWxmLnB1c2goc2VjdGlvbkhpc3RvcnkpO1xyXG4gIHNlY3Rpb25zX2hhbGYucHVzaChzZWN0aW9uRm9vdGVyKTtcclxuXHJcblxyXG4gIHNlY3Rpb25zX2hhbGYuZm9yRWFjaChmdW5jdGlvbihzZWN0aW9uKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZWN0ID0gc2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgaWYocmVjdC50b3AgPCAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpIC8gMS4xKSB7XHJcbiAgICAgICAgY29uc3QgdG9wUG9zID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIHdpbmRvdy5pbm5lckhlaWdodC8xLjE7XHJcbiAgICAgICAgaWYoIXNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzY3JvbGxlZCcpKSB7XHJcbiAgICAgICAgICBnc2FwLnRvKHdpbmRvdywge1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogMSxcclxuICAgICAgICAgICAgc2Nyb2xsVG86IHRvcFBvc1xyXG4gICAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdzY3JvbGxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ3Njcm9sbGVkJyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcblxyXG4gIH0pXHJcblxyXG4gIH0pXHJcblxyXG4gIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbikge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcclxuICAgICAgY29uc3QgcmVjdCA9IHNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICBpZihpc0VsZW1lbnRJblZpZXdwb3J0KHNlY3Rpb24pKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3NlY3Rpb24gaXMgaW4gdmlld3BvcnQnKTtcclxuXHJcbiAgICAgICAgY29uc3QgdG9wUG9zID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoIXNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdzY3JvbGxlZCcpKSB7XHJcbiAgICAgICAgICBnc2FwLnRvKHdpbmRvdywge1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogMSxcclxuICAgICAgICAgICAgc2Nyb2xsVG86IHRvcFBvc1xyXG4gICAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdzY3JvbGxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGxlZCcpO1xyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIH0pXHJcblxyXG5cclxuICB9XHJcblxyXG5cclxuXHJcbm9uZVB1bmNoKClcclxuXHJcbmZ1bmN0aW9uIHNjcm9sbFVwQXBwZWFyKCkge1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njcm9sbC11cCcpO1xyXG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gNTAwKSB7XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLXVwX19hcHBlYXInKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsLXVwX19hcHBlYXInKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuc2Nyb2xsVXBBcHBlYXIoKTtcclxuXHJcblxyXG5mdW5jdGlvbiBvcmRlckRpc2FwcGVhcigpIHtcclxuICBjb25zdCBvcmRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcmRlcicpO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XHJcbiAgICBpZihvcmRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPCAxMDApIHtcclxuICAgICAgb3JkZXIuY2xhc3NMaXN0LmFkZCgndW52aXNPcmRlcicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb3JkZXIuY2xhc3NMaXN0LnJlbW92ZSgndW52aXNPcmRlcicpO1xyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxub3JkZXJEaXNhcHBlYXIoKVxyXG5cclxuXHJcbmZ1bmN0aW9uIHBhcmFsbGV4KCkge1xyXG4gIGNvbnN0IHlwb3MgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XHJcbiAgY29uc3QgaGVhZGVyID0gJCgnLmhlYWRlcicpLmhlaWdodCgpOyAgICBcclxuICBpZih5cG9zLWhlYWRlcj4xMzUpe1xyXG4gICAgICAkKCcuaGVhZGVyJykuY3NzKHsnb3BhY2l0eSc6MH0pXHJcbiAgfWVsc2V7XHJcbiAgICAgICQoJy5oZWFkZXInKS5jc3MoeydvcGFjaXR5JzoxfSlcclxuICB9XHJcbiAgfVxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBwYXJhbGxleCksIGZhbHNlO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHNjcm9sbEJsb2NrcygpIHtcclxuXHJcbiAgY29uc3QgeWVhck51bSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy55ZWFyX19udW0nKTtcclxuICBjb25zdCBzY3JvbGxCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXZlbnRzX19pdGVtJyk7XHJcbiAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcclxuXHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzY3JvbGxCbG9ja3MubGVuZ3RoOyBpbmRleCsrKSB7XHJcblxyXG4gICAgY29uc3QgYmxvY2sgPSBzY3JvbGxCbG9ja3NbaW5kZXhdO1xyXG4gICAgYmxvY2suY2xhc3NMaXN0LmFkZCgnaGlkZGVuQmxvY2snKTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XHJcblxyXG4gICAgICBpZiAoYmxvY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gMTAwIDwgKHZpZXdwb3J0SGVpZ2h0IC8gMikgKyAxNTApIHtcclxuICAgICAgICBibG9jay5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW5CbG9jaycpO1xyXG4gICAgICAgIGJsb2NrLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGVCbG9jaycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJsb2NrLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbkJsb2NrJyk7XHJcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZUJsb2NrJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHZpc0Jsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52aXNpYmxlQmxvY2snKTtcclxuICAgICAgaWYodmlzQmxvY2tzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBsZXQgeWVhck5ldyA9IHBhcnNlRmxvYXQodmlzQmxvY2tzW3Zpc0Jsb2Nrcy5sZW5ndGggLSAxXS5kYXRhc2V0LnllYXIpO1xyXG4gICAgICAgIGxldCB5ZWFyT2xkID0gcGFyc2VGbG9hdCh5ZWFyTnVtLmlubmVyVGV4dCk7XHJcbiAgICAgICAgeWVhck51bS5pbm5lclRleHQgPSB5ZWFyTmV3O1xyXG5cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgIH0pXHJcblxyXG4gIH1cclxuXHJcbn1cclxuXHJcbnNjcm9sbEJsb2NrcygpO1xyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gb25FbnRyeShlbnRyeSkge1xyXG4gIGVudHJ5LmZvckVhY2goY2hhbmdlID0+IHtcclxuICAgIGlmIChjaGFuZ2UuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgY2hhbmdlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdlbGVtZW50LXNob3cnKTtcclxuICAgICAgY291bnRlcnMoKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5sZXQgb3B0aW9ucyA9IHsgdGhyZXNob2xkOiBbMC4xXSB9O1xyXG5sZXQgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIob25FbnRyeSwgb3B0aW9ucyk7XHJcbmxldCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbGVtZW50LWFuaW1hdGlvbicpO1xyXG5cclxuZm9yIChsZXQgZWxtIG9mIGVsZW1lbnRzKSB7XHJcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShlbG0pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY291bnRlcnMoKSB7XHJcbiAgY29uc3QgY291bnRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLmNvdW50ZXInICk7XHJcblx0XHJcbiAgICBqUXVlcnkoZnVuY3Rpb24gKCQpIHtcclxuICAgICAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgICAgXHJcbiAgICAgICAgdmFyIGNvdW50ZXJVcCA9IHdpbmRvdy5jb3VudGVyVXBbXCJkZWZhdWx0XCJdO1xyXG4gICAgICBcclxuICAgICAgXHJcbiAgICAgICAgY291bnRlcnMuZm9yRWFjaCgoY291bnRlcj0+e1xyXG4gICAgICAgICAgY291bnRlclVwKCBjb3VudGVyLCB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICBkZWxheTogNSxcclxuICAgICAgICB9IClcclxuICAgICAgICB9KSlcclxuICAgICAgIFxyXG4gIFxyXG4gICAgfSk7XHJcblxyXG4vLyAgIGNvbnN0IGNvdW50ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1pc3Npb24tYWR2X190b3AtdGV4dCcpO1xyXG5cclxuLy8gICBjb3VudGVycy5mb3JFYWNoKChjb3VudGVyKT0+IHtcclxuLy8gICAgICAgY291bnRlci5pbm5lclRleHQgPSAwO1xyXG4vLyAgICAgICBsZXQgY291bnQgPSAwO1xyXG5cclxuLy8gICAgICAgZnVuY3Rpb24gdXBkYXRlQ291bnQoKSB7XHJcbi8vICAgICAgICAgY29uc3QgdGFyZ2V0ID0gcGFyc2VGbG9hdChjb3VudGVyLmRhdGFzZXQuY291bnQpO1xyXG5cclxuLy8gICAgICAgICBpZihjb3VudCA8IHRhcmdldCkge1xyXG4vLyAgICAgICAgICAgY291bnQrKztcclxuLy8gICAgICAgICAgIGNvdW50ZXIuaW5uZXJUZXh0ID0gY291bnQ7XHJcbi8vICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDQwMDAvdGFyZ2V0O1xyXG4vLyAgICAgICAgICAgc2V0VGltZW91dCh1cGRhdGVDb3VudCwgZHVyYXRpb24pO1xyXG4vLyAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICBjb3VudGVyLmlubmVyVGV4dCA9IHRhcmdldDtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHVwZGF0ZUNvdW50KCk7XHJcblxyXG4vLyAgIH0pXHJcblxyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHBlY3NDaGFuZ2UoKSB7XHJcbiAgdmFyIHZpc2l0Q291bnQgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmlzaXRDb3VudCcpKSB8fCAwO1xyXG4gIHZpc2l0Q291bnQrKztcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmlzaXRDb3VudCcsIHZpc2l0Q291bnQpO1xyXG4gIGxldCBwZWNOdW0gPSB2aXNpdENvdW50ICUgODtcclxuICBcclxuICBjb25zdCBwZWNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhlYWRlci10b3BfX2JnJyk7XHJcbiAgXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZWNzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBwZWNzW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1x0XHJcbiAgICBpZihpID09IHBlY051bSkge1xyXG4gICAgICBwZWNzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbnBlY3NDaGFuZ2UoKTtcclxuXHJcblxyXG5mdW5jdGlvbiB2aWRlb0FwcGVhcigpIHtcclxuICBjb25zdCB2aWRlb0JnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci10b3BfX2JnLXZpZCcpO1xyXG4gIGNvbnN0IHBlY3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVjcycpO1xyXG5cclxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgcGVjcy5jbGFzc0xpc3QuYWRkKCdwZWNzX2Rpc2FwcGVhcicpO1xyXG4gICAgdmlkZW9CZy5wbGF5KCk7XHJcbiAgfSwgNDAwMClcclxuXHJcblxyXG59XHJcblxyXG4vLyB2aWRlb0FwcGVhcigpO1xyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gbGFuZygpIHtcclxuICBjb25zdCBzd2l0Y2hMYW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm4tbGFuZycpO1xyXG4gIHN3aXRjaExhbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBzd2l0Y2hMYW5nLmNsYXNzTGlzdC50b2dnbGUoJ2VuJyk7XHJcbiAgfSlcclxufVxyXG5cclxubGFuZygpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHByb2RNZW51KCkge1xyXG4gIGNvbnN0IG1lbnVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9kdWN0cy1tZW51X19pdGVtJyk7XHJcbiAgY29uc3QgcHJvZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdHMtbGlzdF9faXRlbScpO1xyXG5cclxuICBtZW51SXRlbXMuZm9yRWFjaCgoaXRlbSk9PntcclxuICAgIFxyXG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+e1xyXG4gICAgICBlID0gZS50YXJnZXQ7XHJcbiAgICAgIGxldCB0eXBlID0gZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWVudScpO1xyXG4gICAgICBtZW51SXRlbXMuZm9yRWFjaCgoaXRlbSk9Pml0ZW0uY2xhc3NMaXN0LnJlbW92ZSgncHJvZHVjdHMtbWVudV9faXRlbS0tYWN0aXZlJykpO1xyXG4gICAgICBlLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3RzLW1lbnVfX2l0ZW0tLWFjdGl2ZScpO1xyXG5cclxuICAgICAgcHJvZExpc3QuZm9yRWFjaCgoaXRlbSk9PiB7XHJcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICBpZihpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJykgPT09IHR5cGUpe1xyXG4gICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuXHJcbiAgICAgIH1cclxuICAgICAgXHJcblxyXG4gICAgfSlcclxuICB9KVxyXG5cclxufSl9XHJcblxyXG5wcm9kTWVudSgpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHdvcmtzQ2F0KCkge1xyXG4gIGNvbnN0IGNhdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndvcmstZm9ybV9fY2F0Jyk7XHJcbiAgY29uc3QgbGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndvcmstZm9ybV9fbGlzdCcpXHJcblxyXG4gIGNhdEl0ZW1zLmZvckVhY2goKGl0ZW0pPT57XHJcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT57XHJcblxyXG4gICAgICBjYXRJdGVtcy5mb3JFYWNoKChpdGVtKT0+aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCd3b3JrLWZvcm1fX2NhdC0tYWN0aXZlJykpO1xyXG4gICAgICBlID0gZS50YXJnZXQ7XHJcbiAgICAgIGUuY2xhc3NMaXN0LmFkZCgnd29yay1mb3JtX19jYXQtLWFjdGl2ZScpO1xyXG5cclxuICAgICAgY29uc3Qgd29ya1R5cGUgPSBlLmdldEF0dHJpYnV0ZSgnZGF0YS13b3JrLWNhdCcpO1xyXG5cclxuICAgICAgbGlzdEl0ZW1zLmZvckVhY2goKGl0ZW0pPT4ge1xyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgaWYoaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtd29yay1saXN0Jyk9PSB3b3JrVHlwZSl7XHJcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9KVxyXG5cclxuICAgIH0pXHJcbiAgfSlcclxufVxyXG5cclxud29ya3NDYXQoKTtcclxuXHJcblxyXG5mdW5jdGlvbiBuZXdzU3BvaWxlcigpIHtcclxuICBjb25zdCBuZXdzSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV3cy1pdGVtJyk7XHJcbiAgY29uc3QgbmV3c1Nwb2lsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3c19fc3BvaWxlcicpO1xyXG5cclxuICBuZXdzU3BvaWxlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcblxyXG4gICAgaWYobmV3c1Nwb2lsZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpKXtcclxuICAgICAgbmV3c0l0ZW1zLmZvckVhY2goKGl0ZW0pPT57XHJcbiAgICAgICAgaWYoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSl7XHJcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICBuZXdzU3BvaWxlci5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmRlZCcpOyBcclxuICAgICAgICAgIG5ld3NTcG9pbGVyLmlubmVyVGV4dCA9ICfQodC80L7RgtGA0LXRgtGMINC10YnQtSc7XHJcbiAgICAgICAgfSBcclxuICAgICAgfSlcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdzSXRlbXMuZm9yRWFjaCgoaXRlbSk9PntcclxuICAgICAgICBcclxuICAgICAgICBpZihpdGVtLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpe1xyXG4gICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xyXG4gICAgICAgICAgbmV3c1Nwb2lsZXIuY2xhc3NMaXN0LmFkZCgnZXhwYW5kZWQnKTtcclxuICAgICAgICAgIG5ld3NTcG9pbGVyLmlubmVyVGV4dCA9ICfQodC60YDRi9GC0YwnO1xyXG4gIFxyXG4gICAgICAgIH0gXHJcbiAgICAgIH0pXHJcblxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuICAgIFxyXG5uZXdzU3BvaWxlcigpO1xyXG5cclxubGV0IG5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm4tbWVudV9faXRlbScpO1xyXG5cclxubmF2TGlua3MuZm9yRWFjaChlbGVtZW50ID0+IGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxufSkpXHJcblxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51LXByb2R1Y3Rpb25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGdzYXAudG8od2luZG93LCB7XHJcbiAgICAgICAgZHVyYXRpb246IDEsXHJcbiAgICAgICAgc2Nyb2xsVG86IHtcclxuICAgICAgICAgICAgeTogXCIucHJvZHVjdFwiXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSlcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudS1hYm91dFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgZ3NhcC50byh3aW5kb3csIHtcclxuICAgICAgICBkdXJhdGlvbjogLjUsXHJcbiAgICAgICAgc2Nyb2xsVG86IHtcclxuICAgICAgICAgICAgeTogXCIubWlzc2lvblwiXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSlcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudS13b3JrXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBnc2FwLnRvKHdpbmRvdywge1xyXG4gICAgICAgIGR1cmF0aW9uOiAxLFxyXG4gICAgICAgIHNjcm9sbFRvOiB7XHJcbiAgICAgICAgICAgIHk6IFwiLndvcmtcIlxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0pXHJcblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnUtY29udGFjdHNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGdzYXAudG8od2luZG93LCB7XHJcbiAgICAgICAgZHVyYXRpb246IDEsXHJcbiAgICAgICAgc2Nyb2xsVG86IHtcclxuICAgICAgICAgICAgeTogXCIuZm9vdGVyXCJcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59KVxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY3JvbGwtdXBcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBnc2FwLnRvKHdpbmRvdywge1xyXG4gICAgICBkdXJhdGlvbjogMSxcclxuICAgICAgc2Nyb2xsVG86IHtcclxuICAgICAgICAgIHk6IFwiYm9keVwiXHJcbiAgICAgIH1cclxuICB9KVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5nc2FwLmZyb20oXCIub3JkZXJcIiwgIHtcclxuICBzY3JvbGxUcmlnZ2VyOiBcIi5vcmRlclwiLFxyXG4gIHk6ICc1MHB4JyxcclxuICBvcGFjaXR5OiAwXHJcbn0pO1xyXG5cclxuZ3NhcC50byhcIi5vcmRlclwiLCB7XHJcbiAgc2Nyb2xsVHJpZ2dlcjogXCIub3JkZXJcIixcclxuICB5OiAnMCcsXHJcbiAgb3BhY2l0eTogJzEnXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIHZhciBtYWluU2xpZGVyID0gbmV3IFN3aXBlcihcIi5vcnRzLXNsaWRlclwiLCB7XHJcbi8vICAgICBzcGFjZUJldHdlZW46IDMwLFxyXG4vLyAgICAgcGFnaW5hdGlvbjoge1xyXG4vLyAgICAgICAgIGVsOiAnLm1haW4tc2xpZGVyLXBhZ2luYXRpb24nLFxyXG4vLyAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuLy8gICAgICAgICB9LFxyXG4vLyAgICAgYXV0b3BsYXk6IHtcclxuLy8gICAgICAgICBkZWxheTogMzUwMCxcclxuLy8gICAgICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXHJcbi8vICAgICAgICAgcGF1c2VPbk1vdXNlRW50ZXI6IHRydWUsXHJcbi8vICAgICAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgLy8gY2xhc3MgTW9iaWxlTWVudSB7XHJcbiAgLy8gICBjb25zdHJ1Y3Rvcihtb2RhbElkKSB7XHJcbiAgLy8gICAgIHRoaXMubW9iaWxlTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpO1xyXG4gIC8vICAgICB0aGlzLmJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcnRzLWhlYWRlci1idXJnZXInKTtcclxuICAvLyAgICAgdGhpcy5jbG9zZUJ1dHRvbiA9IHRoaXMubW9iaWxlTWVudS5xdWVyeVNlbGVjdG9yKCcub3J0cy1tb2JpbGUtbWVudS1jbG9zZScpO1xyXG4gIC8vICAgICB0aGlzLm92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheS1kYXJrJyk7XHJcbiAgLy8gICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgLy8gICAgIHRoaXMuY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gIC8vICAgICB0aGlzLm92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gIC8vICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgLy8gICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgdGhpcy5pc09wZW4pIHtcclxuICAvLyAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAvLyAgICAgICB9XHJcbiAgLy8gICAgIH0pO1xyXG4gIC8vICAgfVxyXG4gIFxyXG4gIC8vICAgb3BlbigpIHtcclxuICAvLyAgICAgdGhpcy5tb2JpbGVNZW51LmNsYXNzTGlzdC5hZGQoJ21vYi0tb3BlbicpO1xyXG4gIC8vICAgICB0aGlzLm92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnb3ZlcmxheS0tc2hvd24nKTtcclxuICAvLyAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG4gIC8vICAgfVxyXG4gIFxyXG4gIC8vICAgY2xvc2UoKSB7XHJcbiAgLy8gICAgIHRoaXMubW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdtb2ItLW9wZW4nKTtcclxuICAvLyAgICAgdGhpcy5vdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJsYXktLXNob3duJyk7XHJcbiAgLy8gICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgLy8gICB9XHJcblxyXG4gIC8vICAgaW5pdCgpIHtcclxuICAvLyAgICAgICB0aGlzLmJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAvLyAgICAgICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgLy8gICAgICAgfSlcclxuICAvLyAgIH1cclxuICAvLyB9XHJcbiAgXHJcbiAgLy8gICBjb25zdCBtb2JpbGUgPSBuZXcgTW9iaWxlTWVudSgnbW9iaWxlLW1lbnUnKTtcclxuXHJcbiAgLy8gICAvLyBtb2JpbGUuaW5pdCgpOyBcclxuXHJcblxyXG4gICAgY2xhc3MgTW9kYWwge1xyXG4gICAgICBjb25zdHJ1Y3Rvcihtb2RhbElkLCB0cmlnZ2VyKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VCdXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UnKTtcclxuICAgICAgICB0aGlzLm1vZGFsVHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodHJpZ2dlcik7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm92ZXJsYXktZGFyaycpO1xyXG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiB0aGlzLmlzT3Blbikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCgnb3BlbmVkLW1vZGFsJyk7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5LmNsYXNzTGlzdC5hZGQoJ292ZXJsYXktLXNob3duJyk7XHJcbiAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuZWQtbW9kYWwnKTtcclxuICAgICAgICB0aGlzLm92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmxheS0tc2hvd24nKTtcclxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMubW9kYWxUcmlnZ2VyLmZvckVhY2goKGVsKSA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgICAgICAgfSkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtb2RhbE5ld3MgPSBuZXcgTW9kYWwoJ21vZGFsLW5ld3MnLCAnLm1vZGFsLXRyaWdnZXInKTtcclxuXHJcbiAgICBtb2RhbE5ld3MuaW5pdCgpO1xyXG5cclxuICAgIGNvbnN0IG1vZGFsUHJvZCA9IG5ldyBNb2RhbCgnbW9kYWwtcHJvZCcsICcubW9kYWwtdHJpZ2dlci1wcm9kJyk7XHJcblxyXG4gICAgbW9kYWxQcm9kLmluaXQoKTtcclxuXHJcblxyXG5jbGFzcyBQcm9kdWN0IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9kSWQpIHtcclxuICAgIHRoaXMuY2hvb3NlRmxhdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mbGF2b3Vyc19faXRlbScpO1xyXG4gICAgXHJcbiAgICBcclxuXHJcblxyXG4gIH1cclxuXHJcbiAgY2hvb3NlRmxhdm9yKCkge1xyXG4gICAgdGhpcy5jaG9vc2VGbGF2LmZvckVhY2goKGVsKSA9PlxyXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNob29zZUZsYXYuZm9yRWFjaChlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdmbGF2b3Vycy0tYWN0aXZlJykpO1xyXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2ZsYXZvdXJzLS1hY3RpdmUnKVxyXG4gICAgICB9XHJcbiAgICAgIClcclxuICAgIClcclxuICB9XHJcblxyXG4gIFxyXG5cclxufVxyXG5cclxuY29uc3QgdGQgPSBuZXcgUHJvZHVjdCgndGQnKTtcclxuXHJcbnRkLmNob29zZUZsYXZvcigpOyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIndpbmRvdyIsIm9uYmVmb3JldW5sb2FkIiwic2Nyb2xsVG8iLCJzZXRUaW1lb3V0IiwiYm9keSIsInNjcm9sbFRvcCIsImdzYXAiLCJ0byIsImR1cmF0aW9uIiwieSIsIlByb2R1Y3RzIiwiY29uc3RydWN0b3IiLCJwcm9kdWN0cyIsIm1vZGFsIiwidGhpcyIsInByb2R1Y3RzRGF0YSIsImdldEVsZW1lbnRCeUlkIiwiYmciLCJxdWVyeVNlbGVjdG9yIiwicHJvZHVjdEltYWdlIiwiY2hvb3NlVm9sIiwiY2hvb3NlVm9sSWNvbiIsImNob29zZVZvbFN3aXRjaCIsInNldEF0dHJpYnV0ZSIsImN1cnJlbnRWb2wiLCJjdXJyZW50Rmxhdm9yIiwic3VidGl0bGVUZXh0IiwibG9nb0ltYWdlIiwiaW5pdCIsImdldFByb2R1Y3RJbmZvIiwicHJvZHVjdE5hbWUiLCJKU09OIiwicGFyc2UiLCJpbm5lckhUTUwiLCJsZXQiLCJpIiwibGVuZ3RoIiwicHJvZHVjdCIsIm5hbWUiLCJpbml0TWFpbldpbmRvdyIsImNvbnNvbGUiLCJsb2ciLCJzcmMiLCJzdWJ0aXRsZSIsImxvZ28iLCJnZXRGbGF2b3JzIiwiZ2V0Vm9sdW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwiYWN0aXZlRmxhdm91ciIsImdldEF0dHJpYnV0ZSIsInZvbHVtZXMiLCJmbGF2b3JzIiwiZm9yRWFjaCIsImZsYXZvciIsInN0eWxlIiwiYmFja2dyb3VuZCIsImJnY29sb3IiLCJpbWFnZSIsImNoYW5nZVdpbmRvdyIsImlkIiwiZmxhdm91cnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXRlbSIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwicHJvZHVjdFRleHRBcHBlYXIiLCJwbVN0YXIiLCJwbVRleHQiLCJ0b2dnbGUiLCJzY3JvbGxGaXgiLCJldmVudCIsImVsZW1lbnRzIiwid2luZG93SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJlbGVtZW50IiwiZWxlbWVudEhlaWdodCIsIm9mZnNldEhlaWdodCIsInRvcFBvc2l0aW9uIiwidG9wIiwic21vb3RoU2Nyb2xsIiwibkJsb2NrcyIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY3JvbGxQb3MiLCJoZWlnaHQiLCJiZWhhdmlvciIsImlzRWxlbWVudEluVmlld3BvcnQiLCJlbCIsImJvdHRvbSIsInJpZ2h0IiwibGVmdCIsImlubmVyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIm9uZVB1bmNoIiwic2VjdGlvbk1pc3Npb24iLCJzZWN0aW9uUHJvZHVjdCIsInNlY3Rpb25HZW9ncmFwaHkiLCJzZWN0aW9uTmV3cyIsInNlY3Rpb25Xb3JrIiwic2VjdGlvbkhpc3RvcnkiLCJzZWN0aW9uRm9vdGVyIiwic2VjdGlvbnMiLCJwdXNoIiwic2VjdGlvbnNfaGFsZiIsInNlY3Rpb24iLCJ0b3BQb3MiLCJzY3JvbGxVcEFwcGVhciIsInNjcm9sbFkiLCJvcmRlckRpc2FwcGVhciIsIm9yZGVyIiwicGFyYWxsZXgiLCJwYWdlWU9mZnNldCIsImNzcyIsIm9wYWNpdHkiLCJzY3JvbGxCbG9ja3MiLCJ5ZWFyTnVtIiwidmlld3BvcnRIZWlnaHQiLCJpbmRleCIsImJsb2NrIiwidmlzQmxvY2tzIiwieWVhck5ldyIsInBhcnNlRmxvYXQiLCJkYXRhc2V0IiwieWVhciIsImlubmVyVGV4dCIsIm9uRW50cnkiLCJlbnRyeSIsImNoYW5nZSIsImlzSW50ZXJzZWN0aW5nIiwiY291bnRlcnMiLCJvcHRpb25zIiwidGhyZXNob2xkIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVsbSIsIm9ic2VydmUiLCJqUXVlcnkiLCJjb3VudGVyVXAiLCJjb3VudGVyIiwiZGVsYXkiLCJwZWNzQ2hhbmdlIiwidmlzaXRDb3VudCIsInBhcnNlSW50IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBlY051bSIsInNldEl0ZW0iLCJwZWNzIiwidmlkZW9BcHBlYXIiLCJ2aWRlb0JnIiwicGxheSIsImxhbmciLCJzd2l0Y2hMYW5nIiwicHJvZE1lbnUiLCJtZW51SXRlbXMiLCJwcm9kTGlzdCIsInR5cGUiLCJ3b3Jrc0NhdCIsImNhdEl0ZW1zIiwibGlzdEl0ZW1zIiwid29ya1R5cGUiLCJuZXdzU3BvaWxlciIsIm5ld3NJdGVtcyIsIm5hdkxpbmtzIiwicHJldmVudERlZmF1bHQiLCJmcm9tIiwic2Nyb2xsVHJpZ2dlciIsIk1vZGFsIiwibW9kYWxJZCIsInRyaWdnZXIiLCJjbG9zZUJ1dHRvbiIsIm1vZGFsVHJpZ2dlciIsIm92ZXJsYXkiLCJpc09wZW4iLCJjbG9zZSIsImtleSIsIm9wZW4iLCJtb2RhbE5ld3MiLCJtb2RhbFByb2QiLCJQcm9kdWN0IiwicHJvZElkIiwiY2hvb3NlRmxhdiIsImNob29zZUZsYXZvciIsInRkIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsUUFBUSxFQUFFQyxNQUFNLFdBQ2hCQyxPQUFPQyxlQUFpQixXQUN0QkQsT0FBT0UsU0FBUyxFQUFFLENBQUMsQ0FDdkIsRUFDRUMsV0FBVyxXQUNQSCxPQUFPRSxTQUFTLEVBQUcsQ0FBQyxFQUNwQkosU0FBU00sS0FBS0MsVUFBWSxFQUMxQkMsS0FBS0MsR0FBR1AsT0FBUSxDQUNkUSxTQUFVLEVBQ1ZOLFNBQVUsQ0FDTk8sRUFBRyxNQUNQLENBQ0osQ0FBQyxDQUNILEVBQUcsQ0FBQyxDQUNOLENBQUMsUUFLS0MsU0FDSkMsWUFBWUMsRUFBVUMsR0FDcEJDLEtBQUtDLGFBQWVqQixTQUFTa0IsZUFBZUosQ0FBUSxFQUNwREUsS0FBS0QsTUFBUWYsU0FBU2tCLGVBQWVILENBQUssRUFDMUNDLEtBQUtHLEdBQUtuQixTQUFTb0IsY0FBYyx3QkFBd0IsRUFDekRKLEtBQUtLLGFBQWVyQixTQUFTb0IsY0FBYyx3QkFBd0IsRUFDbkVKLEtBQUtNLFVBQVl0QixTQUFTb0IsY0FBYyxjQUFjLEVBQ3RESixLQUFLTyxjQUFnQnZCLFNBQVNvQixjQUFjLGNBQWMsRUFDMURKLEtBQUtRLGdCQUFrQnhCLFNBQVNvQixjQUFjLHNCQUFzQixFQUNwRUosS0FBS08sY0FBY0UsYUFBYSxnQkFBZ0IsR0FBRyxFQUNuRFQsS0FBS1UsV0FBYSxJQUNsQlYsS0FBS1csY0FBZ0IsY0FFckJYLEtBQUtZLGFBQWU1QixTQUFTb0IsY0FBYyx1QkFBdUIsRUFDbEVKLEtBQUthLFVBQVk3QixTQUFTb0IsY0FBYyw0QkFBNEIsRUFDcEVKLEtBQUtjLEtBQUssQ0FDWixDQUVBQyxlQUFlQyxHQUNiaEIsS0FBS2dCLFlBQWNBLEVBQ25CaEIsS0FBS0YsU0FBV21CLEtBQUtDLE1BQU1sQixLQUFLQyxhQUFha0IsU0FBUyxFQUFFckIs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
